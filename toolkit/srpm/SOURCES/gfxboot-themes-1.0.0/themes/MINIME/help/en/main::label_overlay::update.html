<h3>
<a name="update">Update</a>
</h3>

<p>
To update <em>MINIME</em> system:
</p>

<p>
1. Backup /isolinux/initrd0.img and /isolinux/vmlinuz0 of the usb stick.
</p>

<p>
2. Boot system with <a href="#label_overlay">overlay</a> support. Default location of overlay file is /LiveOS/overlay-MINIME-xxxx-xxxx on the usb stick, (x is hex number), you can change rd.live.overlay option to use local disk as overlay space instead of usb stick.
</p>

<p>
3. Make changes (yum update), if kernel is changed, use "dracut -c /etc/minime.conf --xz new.img [new kernel verson]" to create new initrd0.img. Be sure to copy new initrd image/kernel to /isolinux/initrd0.img and /isolinux/vmlinuz0.
</p>

<p>
4. Reboot system with rd.live.overlay.merge option, select a local disk as temp space. This process will merge squashfs.img and overlay to create new squashfs.img.
</p>

<p>
5. Reboot system normally, use "dracut -c /etc/minime.conf --xz new.img" to create new initrd0.img again, this process will update build version and build date.Be sure to replace /isolinux/initrd0.img with new.img.
</p>

<p>
6. Remove all backup file, localtion of backup squashfs.img is on local disk.
</p>

<p>
7. In case of failure, restore old kernel, initrd and squashfs.img, fix error, do whole process again.
</p>
